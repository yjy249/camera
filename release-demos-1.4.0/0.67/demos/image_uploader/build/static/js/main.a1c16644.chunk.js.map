{"version":3,"sources":["StreamlitImageUploader.tsx","index.tsx"],"names":["withStreamlitConnection","useState","hasError","updateError","onDrop","useCallback","acceptedFiles","length","arrayBuffer","then","arraybuffer","Streamlit","setComponentValue","setFrameHeight","useDropzone","accept","maxSize","getRootProps","getInputProps","isDragActive","useEffect","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kPAmDeA,mBA3Cf,WAAmC,IAAD,EACAC,oBAAS,GADT,mBACzBC,EADyB,KACfC,EADe,KAE1BC,EAASC,uBAAY,SAAAC,GACrBA,EAAcC,QAChBJ,GAAY,GACCG,EAAc,GACtBE,cAAcC,MAAK,SAACC,GAAD,OACtBC,IAAUC,kBAAkBF,QAI9BP,GAAY,GACZQ,IAAUE,oBAEX,IAd6B,EAeoBC,YAAY,CAC9DV,SACAW,OAAQ,UACRC,QAAS,QAHJC,EAfyB,EAezBA,aAAcC,EAfW,EAeXA,cAAeC,EAfJ,EAeIA,aAUpC,OAJAC,qBAAU,WACRT,IAAUE,mBACT,IAGD,oCACEX,EACE,yBAAKmB,UAAU,sBAAf,2CACA,KAEJ,yCAASJ,IAAT,CAAyBI,UAAU,qBACjC,0BAAWH,KAETC,EACE,wDACA,gGCxCVG,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.a1c16644.chunk.js","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react'\nimport {\n  ComponentProps,\n  Streamlit,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport {useDropzone} from 'react-dropzone'\n\nfunction StreamlitImageUploader() {\n  const [hasError, updateError] = useState(false)\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length) {\n      updateError(false)\n      const file = acceptedFiles[0];\n      file.arrayBuffer().then((arraybuffer:any) => (\n        Streamlit.setComponentValue(arraybuffer)\n      ))\n    }\n    else {\n      updateError(true)\n      Streamlit.setFrameHeight()\n    }\n  }, [])\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({\n    onDrop,\n    accept: 'image/*',\n    maxSize: 512000\n  })\n\n  useEffect(() => {\n    Streamlit.setFrameHeight()\n  }, [])\n\n  return (\n    <>\n    { hasError\n      ? <div className=\"alert alert-danger\">Error uploading file. Try another file.</div>\n      : null\n    }\n    <div {...getRootProps()} className=\"alert alert-info\">\n      <input {...getInputProps()} />\n      {\n        isDragActive ?\n          <div>Drop the image here ...</div> :\n          <div>Drag 'n' drop or click to select an image less than 500kbs</div>\n      }\n    </div>\n    </>\n  )\n}\n\nexport default withStreamlitConnection(StreamlitImageUploader);\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport StreamlitImageUploader from \"./StreamlitImageUploader\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <StreamlitImageUploader />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}